/*******************************************************************************
 * Copyright (c) 2014-2015 BSI Business Systems Integration AG.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *     BSI Business Systems Integration AG - initial API and implementation
 ******************************************************************************/
.date-field {
  #scout.value-field-with-icon(~'.icon.date');
  #scout.value-field-with-icon(~'.icon.time');

  & > .field {

    & > input,
    & > .input-field {
      position: absolute;
    }

    .icon {

      &.date-clear,
      &.time-clear {
        cursor: pointer;
        display: none;

        &::before {
          content: @icon-remove;
        }
      }

      &.date {

        &::before {
          content: @icon-calendar;
        }
      }

      &.time {

        &::before {
          content: @icon-clock;
        }
      }
    }
  }

  &.date-focused > .icon.date::before,
  &.date-focused > .field > .icon.date::before,
  &.time-focused > .icon.time::before,
  &.time-focused > .field > .icon.time::before {
    color: @text-field-icon-focus-color;
  }

  &:not(.disabled)&:not(.compact-date) > .field {
    & > .icon.date{
      display: block;
    }

    & > input.date {
      padding-right: @text-field-padding-x + 15px;
    }
  }

  &:not(.disabled)&:not(.compact-time) > .field {
    & > .icon.time{
      display: block;
    }

    & > input.time {
      padding-right: @text-field-padding-x + 15px;
    }
  }

  &.clearable-always.date-has-text&:not(.disabled)&:not(.compact-date),
  &.clearable-focused.date-has-text.date-focused&:not(.disabled)&:not(.compact-date) {
    #scout.value-field-with-icon(~'.icon.date-clear');

    &.date-focused > .icon.date::before,
    &.date-focused > .field > .icon.date-clear::before {
      color: @text-field-icon-focus-color;
    }

    & > .field >  .date-clear {
      display: block;
    }

    & > .field > .icon.date {
      display: none;
    }

    & > .field > input.date {
      padding-right: @text-field-padding-x + 15px;
    }
  }

  &.clearable-always.time-has-text&:not(.disabled)&:not(.compact-time),
  &.clearable-focused.time-has-text.time-focused&:not(.disabled)&:not(.compact-time) {
    #scout.value-field-with-icon(~'.icon.time-clear');

    &.time-focused > .icon.time::before,
    &.time-focused > .field > .icon.time-clear::before {
      color: @text-field-icon-focus-color;
    }

    & > .field >  .time-clear {
      display: block;
    }

    & > .field > .icon.time {
      display: none;
    }

    & > .field > input.time {
      padding-right: @text-field-padding-x + 15px;
    }
  }
}

.date-field > .field {

  & > .input-field[placeholder]:empty::before {
    #scout.fake-placeholder();
  }

  & > .input-field[placeholder].disabled:empty::before {
    #scout.placeholder-disabled();
  }

  /** Prediction input field is in the back of the actual input field -> make actual input field transparent */
  & > .predict {
    color: @disabled-color;
    background-color: @control-background-color;

    &.has-error {
      background-color: @error-background-color;
    }

    & + input {
      background-color: transparent;
    }
  }
}

.date-field.date-clearable > .field {
  & > .icon.date-clear {
    display: block;
  }

  & > .icon.date {
    display: none;
  }
}

.date-field.time-clearable > .field {
  & > .icon.time-clear {
    display: block;
  }

  & > .icon.time {
    display: none;
  }
}

.date-picker-popup,
.time-picker-popup {
  &.down {
    margin-top: 5px;
  }

  &.up {
    margin-bottom: 5px;
  }
}

.touch-popup-field.time{
  input.date,
  .icon.date {
    display: none;
  }
}

.touch-popup-field.date{
  input.time,
  .icon.time {
    display: none;
  }
}
