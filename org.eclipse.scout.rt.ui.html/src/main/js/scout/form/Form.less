/*******************************************************************************
 * Copyright (c) 2014-2015 BSI Business Systems Integration AG.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *     BSI Business Systems Integration AG - initial API and implementation
 ******************************************************************************/
 @form-title-margin-top: 10px;

.form {
  height: 100%;
  width: 100%;
  position: relative;
  background-color: @form-background-color;
}

.view:not(.detail-form) {
  & > .root-group-box > .main-menubar {
    #scout.main-menubar-light;
  }
}

.dialog {
  position: absolute !important; /* NOSONAR (ignore positioning of 'ui-resizable') */
  background-color: @background-color;
  border: solid 1px @border-color;
  border-top: 5px solid @active-color;
  border-top-left-radius: @border-radius;
  border-top-right-radius: @border-radius;
  #scout.drop-shadow-large();
  margin: 10px; /* minimum padding to desktop */
  margin-bottom: 15px;
  top: 0; /* must be specified otherwise dialogs will be positioned at end of document and increase document size */

  &.animate-open {
    #scout.animation(fadeIn ease-in 1);
    #scout.animation-duration(0.15s);
  }

  &.animate-modality-highlight {
    #scout.animation-shake();
  }

  & > .title-box {
    margin-top: @form-title-margin-top;
    margin-left: 20px;
    margin-right: 30px; /* Leave space for 'x' closable */

    & > .title {
      #scout.overflow-ellipsis-nowrap();
      #scout.font-text-large();
      color: @active-color;

      & > .icon {
        margin-right: 5px;

        &.font-icon {
          font-size: 14px;
        }
      }
    }

    & > .sub-title {
      #scout.overflow-ellipsis-nowrap();
      #scout.font-text-normal();
      color: @active-color;
    }
  }

  & > .closer {
    position: absolute;
    right: 4px;
    padding: @form-title-margin-top;
  }
}

@media (max-width: @iphone6-width) {
  .dialog {
    /* no need to have a margin on small screens */
    /* otherwise on iphone5, cancel button on a dialog would always be stacked in ellipsis if there is another menu item */
    margin: 0;

    /* remove border in full screen mode */
    &.full-width {
      border-right: 0;
      border-left: 0;

      &.full-height {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
      }
    }

    & > .ui-resizable-e,
    & > .ui-resizable-se,
    & > .ui-resizable-s {
      /* Remove handle, it is not useful anymore
         and it increases the dialog size which has the effect that the body may be scrolled (on iphone).
         Important is necessary because jquery ui sets it to display: block using inline style */
      display: none !important; /* NOSONAR (see comment above)*/
    }
  }
}
