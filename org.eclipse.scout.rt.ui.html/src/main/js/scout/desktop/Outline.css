/* we have to combine this with .outline, otherwise the definition would not be specific enough */
.outline.tree {
  & .scrollbar-thumb {
    background-color: rgba(205, 205, 205, 0.3);
  }

  & .scrollbar-thumb-move,
  & .scrollbar-thumb:hover {
    background-color: rgba(205, 205, 205, 0.6);
  }

  &.in-background .tree-node.selected {
    background-color: @palette-blue-35;
    color: @palette-white;
  }
}

.outline > .tree-data {
  & > .scrollbar.y-axis {
    margin-right: 6px;
  }

  & > .tree-node,
  & > .animationWrapper > .tree-node {
    #scout.font-text-plus();
    cursor: pointer;
    border: 0;

    /* leave some space for the scrollbar */
    padding-right: 8px;
    /* set top/bottom padding for item */
    padding-top: 8px;
    padding-bottom: 8px;

    &.parent {
      #scout.font-text-plus(@bold);
    }

    &.group {
      background-color: @outline-group-background-color;
    }

    &.selected {
      color: @outline-selection-color;
      background-color: @outline-selection-background-color;
      border: 0;
    }

    &.show-all:hover {
      color: @palette-orange-3;

      > .tree-node-control::before {
        color: @highlight-color;
      }
    }

     & > .tree-node-control {
      /* adjust control position */
      margin-left: -@outline-node-control-size - 5px;
      margin-top: -3px;

      width: @outline-node-control-size;
      height: @outline-node-control-size;
      line-height: @outline-node-control-size;

      &::before {
        font-size: @outline-node-control-size;
        /* always use same color as the tree-node label */
        color: inherit;
      }

      &:hover::before {
        color: @highlight-color;
      }
    }
  }

  /* bread crumb mode */

  .navigation-breadcrumb & > .tree-node,
  .navigation-breadcrumb & > .animationWrapper > .tree-node {
    overflow: visible;
    white-space: normal;
    text-align: center;

    display: none;
    border-bottom: 1px solid @outline-selection-background-color;

    /* !important is necessary here to override the element specific left-padding (calculated by Tree.js for level indentation). */
    padding: 12px 2px 12px 2px !important;

    &.parent,
    &.children,
    &.selected {
      #scout.font-text-plus();
      display: block;
      background-color: @outline-group-background-color;
    }

    &.hidden {
      display: none;
    }

    &.show-all::before {
      content: '+';
      padding-right: 5px;
    }

    &.selected {
      background-color: @outline-selection-background-color;
      color: @outline-selection-color;
      cursor: default;
    }

    &.parent::before,
    &.parent::after,
    &.selected::before {
      position: absolute;
      left: 50%;
      margin-left: -13px;
      border: solid transparent;
      content: '';
      height: 0;
      width: 0;
      z-index: 1;
    }

    &.parent::before {
      border-color: @outline-selection-background-color transparent transparent transparent;
      border-width: 8px 13px 0 13px;
      bottom: -9px;
    }

    &.parent::after {
      border-color: @outline-group-background-color transparent transparent transparent;
      border-width: 8px 13px 0 13px;
      bottom: -8px;
    }

    &.selected::before {
      border-color: @outline-selection-background-color transparent transparent transparent;
      border-width: 8px 13px 0 13px;
      bottom: -8px;
    }

    &.parent.leaf::before,
    &.parent.leaf::after,
    &.selected.leaf::before {
      display: none;
    }
  }

  .navigation-breadcrumb & > .tree-node-control {
    display: none;
  }
}
