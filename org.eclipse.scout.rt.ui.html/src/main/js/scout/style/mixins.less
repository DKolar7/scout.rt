/*******************************************************************************
 * Copyright (c) 2014-2017 BSI Business Systems Integration AG.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *     BSI Business Systems Integration AG - initial API and implementation
 ******************************************************************************/
#scout {

  .vendor(@property, @value) {
    -webkit-@{property}: @value;
    -moz-@{property}: @value;
    -ms-@{property}: @value;
    -o-@{property}: @value;
    @{property}: @value;
  }

  .glow(@color, @radius: 5px) {
    box-shadow: 0 0 @radius @color;
  }

  .inner-glow(@color, @radius: 4px) {
    box-shadow: inset 0 0 @radius @color;
  }

  .drop-shadow(@x: 2px, @y: 6px, @blur: 14px, @spread: -6px, @alpha: 0.2) {
    box-shadow: @x @y @blur @spread rgba(0, 0, 0, @alpha);
  }

  .drop-shadow-large() {
    #scout.drop-shadow(@x: 4px, @y: 10px, @blur: 18px, @alpha: 0.5);
  }

  .focus-border(@bordersize: 1px) {
    outline: none;
    border: @bordersize solid @focus-border-color;
    #scout.glow(@focus-glow-color);
  }

  .focus-border-inverted(@bordersize: 1px) {
    outline: none;
    border: @bordersize solid @focus-border-color-inverted;
    #scout.glow(@focus-glow-color-inverted);
  }

  .no-focus-border() {
    outline: none;
    border: 0;
    box-shadow: 0 0 0 0;
  }

  .transform(@args) {
    -webkit-transform: @args;
    -ms-transform: @args;
    transform: @args;
  }

  .transform-origin(@args) {
    -webkit-transform-origin: @args;
    -moz-transform-origin: @args;
    -ms-transform-origin: @args;
    transform-origin: @args;
  }

  .text-selection() {
    background: @text-selection-background-color;
    color: @text-selection-color;
  }
  .text-selection-disabled() {
    background: @text-selection-disabled-background-color;
    color: @text-selection-disabled-color;
  }

  .placeholder() {
    color: @text-field-placeholder-color;
    opacity: 1; /* necessary for firefox */
  }

  .placeholder-disabled() {
    /* Fade a little to make it distinguishable from real text. Don't use opacity here because it affects background as well (IE). */
    color: fade(@disabled-color, 70%);
  }

  .fake-placeholder() {
    /* placeholder only works for input elements -> this fake placeholder is intended for a before element*/
    #scout.placeholder();
    content: attr(placeholder);
  }

  .overlay(@left: 0, @top: 0, @diffW: 0, @diffH: 0) {
    position: absolute;
    content: '';
    left: @left;
    top: @top;
    width: calc(~'100% +' @diffW);
    height: calc(~'100% +' @diffH);
  }

  /* Use dashed line instead of solid to avoid visual conflict with editable fields */
  .read-only() {
    background-color: transparent;
    border-color: transparent;
    border-bottom: dashed 1px @border-color;
    color: @text-color;
  }


  .value-field-with-icon(@className: ~'.icon') {

    &.focused > @{className}::before,
    &.focused > .field > @{className}::before {
      color: @text-field-icon-focus-color;
    }

    &.has-error > @{className}::before ,
    &.has-error > .field > @{className}::before {
      color: @text-field-icon-error-color;
    }


    &.disabled > @{className},
    &.disabled > .field > @{className},
    &.compact > @{className},
    &.compact > .field > @{className}  {
      display: none;
    }
  }

  .status {
    &::before  {
      #scout.font-icon();
      font-size: 16px;
    }
  }

  .menu-status {
    visibility: visible;
    cursor: pointer;

    &::before {
      content: @icon-ellipsis-v;
      color: @icon-light-color;
    }

    &:hover::before {
      color: @icon-color;
    }

    &:active::before {
      color: @icon-color;
    }
  }

  .tooltip-status,
  .info-status {
    visibility: visible;
    cursor: pointer;

    &::before  {
      content: @icon-info;
      color: @status-info-color;
    }

    &:hover::before {
      color: @status-info-hover-color;
    }

    &:active::before {
      color: @status-info-hover-color;
    }
  }

  .warning-status {
    visibility: visible;
    cursor: pointer;

    &::before  {
      content: @icon-error;
      color: @status-warning-color;
    }

    &:hover::before {
      color: @status-warning-hover-color;
    }

    &:active::before {
      color: @status-warning-hover-color;
    }
  }

  .error-status {
    visibility: visible;
    cursor: pointer;

    &::before  {
      content: @icon-error;
      color: @status-error-color;
    }

    &:hover::before {
      color: @status-error-hover-color;
    }

    &:active::before {
      color: @status-error-hover-color;
    }
  }

  .loading-indicator(@loading-animation-size: 30px) {
    display: inline-block;
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -(@loading-animation-size / 2);
    margin-left: -(@loading-animation-size / 2);
    #scout.animation(fade-in 0.15s);

    &::before {
      #scout.animation(rotation 0.9s linear infinite);
      content: '';
      display: inline-block;
      vertical-align: middle;
      border-radius: 50%;
      border: 2px solid rgba(0, 0, 0, 0);
      border-top-color: @border-color;
      border-left-color: @border-color;
      border-bottom-color: @border-color;
      width: @loading-animation-size;
      height: @loading-animation-size;
    }
  }

  .user-select(@mode) {
    -webkit-user-select: @mode;
    -moz-user-select: @mode;
    -ms-user-select: @mode;
    user-select: @mode;
  }

  .checkbox() {
    display: inline-block;
    width: @check-box-size;
    height: @check-box-size;
    border: 2px solid @check-box-border-color;
    border-radius: @check-box-border-radius;
    background-color: @control-background-color;
    text-align: center;
  }

  .checkbox-disabled() {
    background-color: @control-disabled-background-color;
  }

  .checkbox-before() {
    position: relative;
    padding-left: 1px;
  }

  .checkbox-before-checked() {
    #scout.font-icon();
    content: @icon-checked;
    color: @palette-blue-6;
    font-size: 11px;
  }

  .checkbox-before-undefined() {
    content: '';
    display: inline-block;
    height: 10px;
    width: 10px;
    background-color: @palette-blue-6;
    border-radius: 2px;
    position: relative;
  }

  .checkbox-before-undefined-disabled() {
    background-color: @check-box-disabled-color;
  }

  .checkbox-before-disabled() {
    color: @check-box-disabled-color;
  }

  .checkbox-after-children-checked() {
    content: '';
    display: inline-block;
    height: 8px;
    width: 8px;
    background-color: @palette-blue-6;
    border-radius: 2px;
    position: absolute;
    top: 3px;
    left: 3px;
  }

  .checkbox-after-children-checked-disabled() {
    background-color: @check-box-disabled-color;
  }

  .overflow-ellipsis() {
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .overflow-ellipsis-nowrap() {
    #scout.overflow-ellipsis();
    white-space: nowrap;
  }

  .overflow-nowrap() {
    overflow: hidden;
    white-space: nowrap;
  }

  .white-space-nowrap() {
    white-space: nowrap;
  }

  .button-focus() {
    #scout.overlay(-3px, -3px, 6px, 6px);
    #scout.focus-border();
    border-radius: @button-border-radius;
  }

  .triangle-top-left(@size, @color) {
    width: 0;
    height: 0;
    border-style: solid;
    border-width: @size @size 0 0;
    #scout.triangle-top-left-color(@color);
  }

  .triangle-top-left-color(@color) {
    border-color: @color transparent transparent transparent;
  }

  /* Font Mixins */

  .font-text-small(@font-weight: @font-weight-normal) {
    font-family: @font-default-family;
    font-weight: @font-weight;
    font-size: @font-size-small;
  }

  .font-text-normal(@font-weight: @font-weight-normal) {
    font-family: @font-default-family;
    font-weight: @font-weight;
    font-size: @font-size-normal;
  }

  .font-text-plus(@font-weight: @font-weight-normal) {
    font-family: @font-default-family;
    font-weight: @font-weight;
    font-size: @font-size-plus;
  }

  .font-text-large(@font-weight: @font-weight-normal) {
    font-family: @font-default-family;
    font-weight: @font-weight;
    font-size: @font-size-large;
  }

  .font-icon() {
    font-family: scoutIcons, @font-default-family;
    font-weight: @font-weight-normal;
    speak: none;
    font-style: normal;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .submenu-icon() {
    #scout.font-icon();
    font-size: 16px;
  }

  /* Invisible pseudo element that enables vertical-align if container has height set */
  .vertical-align-helper(@minHeight: 0) {
    content: '';
    display: inline-block;
    vertical-align: middle;
    height: 100%;
    min-height: @minHeight;
  }

  .vertical-align-helper-before(@minHeight: 0) {
    &::before {
      #scout.vertical-align-helper(@minHeight);
    }
  }

  .vertical-align-helper-after(@minHeight: 0) {
    &::after {
      #scout.vertical-align-helper(@minHeight);
    }
  }

  .loading-indicator(@loading-animation-size: 30px) {
    display: inline-block;
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -(@loading-animation-size / 2);
    margin-left: -(@loading-animation-size / 2);
    #scout.animation(fade-in 0.15s);

    &::before {
      #scout.animation(rotation 0.9s linear infinite);
      content: '';
      display: inline-block;
      vertical-align: middle;
      border-radius: 50%;
      border: 2px solid rgba(0, 0, 0, 0);
      border-top-color: @border-color;
      border-left-color: @border-color;
      border-bottom-color: @border-color;
      width: @loading-animation-size;
      height: @loading-animation-size;
    }
  }

  .cursor-grab {
    /* "grab" cursor with fallback for browsers that don't understand CSS3 cursors */
    cursor: move;
    cursor: -webkit-grab;
    cursor: -moz-grab;
    cursor: grab;
  }

  .cursor-grabbing {
    /* "grabbing" cursor with fallback for browsers that don't understand CSS3 cursors */
    cursor: move;
    cursor: -webkit-grabbing;
    cursor: -moz-grabbing;
    cursor: grabbing;
  }

  /* Mixin for chooser popups as used in smart-field */
  .chooser-popup {
    position: absolute;
    border: solid 1px @popup-border-color;
    border-radius: @popup-border-radius;
    overflow: hidden;
    background-color: @palette-white;
    #scout.focus-border();

    &.down {
      margin-top: 5px;
    }

    &.up {
      margin-bottom: 5px;
    }

    &.touch {
      background-color: @table-header-background-color;
    }
  }
}
